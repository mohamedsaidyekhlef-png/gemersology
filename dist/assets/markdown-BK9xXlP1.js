import{bJ as b,bK as x,bL as E,bM as O,bN as P,bO as M,bP as v,bQ as d,bR as u,bS as T,bT as j,bU as R}from"./vendor-C1gUnhmJ.js";const N="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",p=[],w={allowDangerousHtml:!0},S=/^(https?|ircs?|mailto|xmpp)$/i,F=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function L(r){const e=H(r),o=U(r);return D(e.runSync(e.parse(o),o),r)}function H(r){const e=r.rehypePlugins||p,o=r.remarkPlugins||p,n=r.remarkRehypeOptions?{...r.remarkRehypeOptions,...w}:w;return b().use(x).use(o).use(E,n).use(e)}function U(r){const e=r.children||"",o=new O;return typeof e=="string"&&(o.value=e),o}function D(r,e){const o=e.allowedElements,n=e.allowElement,a=e.components,m=e.disallowedElements,c=e.skipHtml,g=e.unwrapDisallowed,h=e.urlTransform||I;for(const s of F)Object.hasOwn(e,s.from)&&P("Unexpected `"+s.from+"` prop, "+(s.to?"use `"+s.to+"` instead":"remove it")+" (see <"+N+"#"+s.id+"> for more info)");return M(r,k),v(r,{Fragment:d.Fragment,components:a,ignoreInvalidStyle:!0,jsx:d.jsx,jsxs:d.jsxs,passKeys:!0,passNode:!0});function k(s,l,i){if(s.type==="raw"&&i&&typeof l=="number")return c?i.children.splice(l,1):i.children[l]={type:"text",value:s.value},l;if(s.type==="element"){let t;for(t in u)if(Object.hasOwn(u,t)&&Object.hasOwn(s.properties,t)){const y=s.properties[t],f=u[t];(f===null||f.includes(s.tagName))&&(s.properties[t]=h(String(y||""),t,s))}}if(s.type==="element"){let t=o?!o.includes(s.tagName):m?m.includes(s.tagName):!1;if(!t&&n&&typeof l=="number"&&(t=!n(s,l,i)),t&&i&&typeof l=="number")return g&&s.children?i.children.splice(l,1,...s.children):i.children.splice(l,1),l}}}function I(r){const e=r.indexOf(":"),o=r.indexOf("?"),n=r.indexOf("#"),a=r.indexOf("/");return e===-1||a!==-1&&e>a||o!==-1&&e>o||n!==-1&&e>n||S.test(r.slice(0,e))?r:""}const J={};function q(r){const e=this,o=r||J,n=e.data(),a=n.micromarkExtensions||(n.micromarkExtensions=[]),m=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),c=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);a.push(T(o)),m.push(j()),c.push(R(o))}export{L as M,q as r};
